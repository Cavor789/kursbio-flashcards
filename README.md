# Kursbio Flashcards — Next.js + Supabase Starter

Минимальный продакшен-скелет с разделением режимов:
- `/` — режим ученика (минималистичный просмотр, обучение)
- `/admin` — режим преподавателя (управление колодами/карточками)

## Стек
- Next.js 14 (App Router)
- Supabase (Auth + Postgres + Storage)
- TailwindCSS

## Быстрый старт

1) Склонируйте или распакуйте проект.
2) Скопируйте `.env.example` → `.env.local` и заполните:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
3) Установите зависимости и запустите:
```bash
npm i
npm run dev
```
4) Зайдите на `http://localhost:3000`

## Supabase: схема БД
Импортируйте `supabase/schema.sql` в ваш проект Supabase (SQL editor).

## Деплой на Vercel
- Подключите репозиторий, добавьте переменные окружения из `.env.local`.
- Задеплойте. Привяжите домен `kursbio.ru`.


## Избранное (сердечко)
- В правом верхнем углу карточки — иконка сердца.
- Нажатие без входа открывает модалку регистрации/входа (email+пароль).
- После входа избранное сохраняется в таблице `favorites` (уникально на пользователя и карточку).


## Страница избранного
- В хедере есть пункт **Избранные** (виден всем).
- Если пользователь не авторизован → страница `/signin` с формой email+пароль.
- Если авторизован → страница `/favorites` показывает его избранные карточки.


## Учить только избранное + фильтры
- На странице `/favorites` добавлены фильтры по **Раздел/Тема**.
- Кнопка **«Учить избранное»** запускает режим изучения по отфильтрованным карточкам.
- Оценки пишутся в таблицу `srs_state` (upsert), интервалы рассчитываются по упрощённому SM-2.
